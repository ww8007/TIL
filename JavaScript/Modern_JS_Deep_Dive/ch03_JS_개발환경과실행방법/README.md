# JS 개발 환경과 실행 방법

## 3.1 자바스크립트 실행 환경

- 모든 브라우저는 JS를 해석하고 실행할 수 있는 JS 엔진 내장
- ┣ Node.js 또한 JS 엔진을 내장하고 있음
- ┣ 그렇기에 JS는 브라우저 환경 또는 Node.js 환경에서 실행 가능
- ┗ 기본적으로 브라우저에서 동작 → JS에서 동작

- 주의점
- ┣ 브라우저와 Node.js는 용도가 다르다.
- ┣ 브라우저 : HTML, CSS, JS를 실행해 웹페이지를 브라우저 화면에 렌더링
- ┣ Node.js는 브라우저 외부에서 자바스크립트 실행 환경을 제공하는 것이 주된 목적
- ┣ 결론적으로 브라우저, Node.js 모두 JS 코어인 ECMAScript 실행 가능하지만
- ┗ Node.js 환경에서는 ECMAScript 이외에 추가로 제공하는 기능은 호환 X

- EX
- ┣ 브라우저 : 파싱된 HTML 요소를 선택하거나 조작하는 기능의 집합
- ┣━━ DOM API를 기본적으로 제공
- ┗ 그러나 Node.js의 경우 DOM API를 제공하지 않음

> 웹 크롤링

    ┣ 서버에서 웹사이트의 콘텐츠를 수집하기 위해서 HTML 문서를 가져온 후
    ┣ 이를 가공해서 필요한 데이터만 추출하는 경우가 존재
    ┣ 이를 웹 크롤링(web crawling)이라고 함
    ┣ 서버 환경은 DOM API 제공하지 않기 때문에
    ┗ cheerio 같은 DOM 라이브러리를 사용해야 함

- Node.js 에서는 파일을 생성하고 수정 가능한 파일 시스템을 기본 제공
- ┣ 브라우저는 이를 제공하지 않음
- ┗ Web API인 fileReader를 사용해서 지정한 파일을 읽어 들이는 것은 가능

- 웹 App의 JS는 사용자의 브라우저에서 동작
- ┣ 브라우저를 통해 다운로드되어 실행되는 JS가
- ┣ 사용자 컴퓨터의 로컬 파일을 생성, 수정 가능 하다면
- ┗ 악성 코드에 그대로 노출되는 문제점이 발생

- 브라우저 : ECMASCript의
- ┣ `DOM`, `BOM`, `Canvas`, `XMLHttpRequest`, `fetch`
- ┣ `requestAnimation`, `Frame`, `SVG`, `WebStorage`, `Web Component`, `Web Worker`와 같은
- ┗ `클라이언트 사이드 Web API`를 제공

- Node.js의 경우 클라이언트 사이드 Web API 제공하는 것이 아닌
- ┗ ECMA Script, Node.js 고유의 API를 지원

## 3.2 웹 브라우저

- 다양한 웹 브라우저 존재하지만 크롬을 제일 많이 이용
- ┣ 나도 다른거 다 써봤지만 크롬이 익숙해져서 편한 느낌
- ┗ 크롬 브라우저의 `V8 엔진`은 `Node.js`에서도 사용되고 있음

### 3.2.1 개발자 도구

- 크롬 브라우저에서 제공하는 개발자 도구(DevTools) 웹 개발에 필수적인 강력한 도구
- ┗ 브라우저에 기본 내장이 되어 있어서 별도의 설치가 필요 없는게 장점

- 개발자 도구의 기능

| 패널        | 설명                                                                                                        |
| ----------- | ----------------------------------------------------------------------------------------------------------- |
| Elements    | 로딩된 웹페이지는 DOM과 CSS를 편집해서 렌더링된 뷰를 확인해 볼 수 있음 <br/> 편집한 내용이 저장되지는 않음  |
| Console     | 로딩된 웹페이지의 에러를 확인하거나 자바슼립트 소스코드에 작성한 console.log 메서드의 실행 결과를 확인 가능 |
| Sources     | 로딩된 웹페이지의 자바스크립트 코드를 디버깅 할 수 있음                                                     |
| NetWork     | 로딩된 웹페이지에 네트워크 요청(request) 정보와 성능을 확인 가능                                            |
| Application | 웹 스토리지, 세션, 쿠키를 확인하고 관리가능                                                                 |

### 3.2.2 콘솔

- 개발자 도구의 Console 패널은 에러 발생 시 살펴봐야 할 필수적 요소
- ┗ 오류가 났는지 아닌지, 디버깅의 목적으로도 사용이 가능

- 줄바꿈의 경우 shift 키를 눌러 줄바꿈 가능

### 3.2.3 브라우저에서 JS 실행

- 브라우저는 `HTML` 파일을 로드하면 `script` 태그에 포함된 JS 코드를 실행
- ┗ JS 코드 내에서 `console.log 메서드`가 호출되었다면 콘솔에 실행 결과 출력

### 3.2.4 디버깅

- 에러 정보를 콘솔에서 클릭하면
- ┗ `Source` 패널로 이동하게 됨

- 콘솔과 디버깅에 대한 자세허나 내용은 구글의
- ┣ Tools for Web Developers: 콘솔 사용
- ┗ Tools for Web Chrome DevTools 에서 JS 디버깅 시작하기

## 3.3 Node.js

- 클라이언트 사이드 : 브라우저에서 동작하는 간단한 웹 에플리케이션은
- ┣ 브라우저만으로도 개발을 진행이 가능함
- ┣ 그러나 완성도가 있는 웹페이지나 서비스를 제공하기 위해서는
- ┗ React, Lodash, Babel, Webpack, ESLint 등의 여러가지 도구를 사용해야함

> 이 때 Node.js가 필요해짐

### 3.3.1 Node.js와 npm 소개

- 2009년 라이언 달이 발표한 Node.js는 크롬 V8 JS 엔지으로 빌드된
- ┣ JS 런타임 환경, 간단히 말해 브라우저에서만 동작하던
- ┣ JS를 브라우저 이외의 환경에서 동작하게 할 수 있도록 해주는 것이
- ┗ 우리가 흔히 알고 있는 Node.js의 등장 배경

- npm
- ┣ JS 패키지 매니저
- ┣ Node.js 에서 사용할 수 있는 모듈들을 패키지화해
- ┣ 모아둔 저장소 역할과 패키지 설치 및 관리를 위한
- ┣ CLI(Command Line Interface)를 제공
- ┣ 자신이 작성한 패키지를 제공도 가능하고
- ┗ 필요한 패키지를 검색해서 다운 받아 사용 가능

### 3.3.2 Node.js 설치

- Node.js 설치 하기 위해 웹사이트(http://nodejs.org)

- 두 가지 버전이 존재 LTS, Current 버전

1. LTS(Long Term Support)

   - 장기적으로 안정된 지원이 보장

2. Current
   - 최신 기능을 제공하지만 업데이트가 발생
   - ┗ 안정적이지 않을 수 있는 단점이 발생

- node를 설치하게 되면 npm도 자동으로 같이 설치

> 노드 정상 설치 확인

```js
$ node -v
v 14.3.0
$ npm -v
6.14.5
```

### 3.3.3 Node.js REPL

- Node.js가 제공하는 REPL(Read Eval Print Loop)을 사용하면
- ┗ 간단한 자바스크립트 코드를 실행해 결과를 확인 가능

> 실행 명령어

```bash
node
```

> 자바스크립트 파일 실행 (확장자 .js 생략 가능)

```bash
node index.js
```

> 종료

```
Ctrl + C 2번 실행
```

## 3.4 비주얼 스튜디오 코드

### 3.4.1 설치

- vscode 검색 후 맥/윈도우 맞게 설치

### 3.4.2 내장 터미널

```js
'use strict';
const arr = [1, 2, 3];

arr.forEach(console.log);
```

```bash
1 0 [ 1, 2, 3 ]
2 1 [ 1, 2, 3 ]
3 2 [ 1, 2, 3 ]
```

> 이런식으로 console.log 찍을 수 있는건 처음 알았다...

### 3.4.3 Code Runner

- 뭐 난 node가 편하므로 패스

### Live Server 확장 플러그인

- 클라이언트 사이드 Web API가 포함된 JS 코드를 실행하기 위해서는
- ┣ Node.js 환경이 아닌 브라우저에서 실행해야 함
- ┗ 개발자 도구의 콘솔에서 실행, JS 코드를 실행하거나 JS를 HTML에 삽입 후 실행
