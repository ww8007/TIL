const fs = require('fs');

const data = [];
// 이는 이벤트의 베이스임
fs.createReadStream('./file.txt', {
	highWaterMark: 8 //64 kbytes
	// encoding: 'utf-8'
})
	.once('data', (chunk) => {
		data.push(chunk);
		console.count('data');
	})
	.on('end', () => {
		console.log(data.join(''));
	})
	.on('error', (e) => console.error(e));

// 한번만 체킹하고 싶은 경우 once 사용
