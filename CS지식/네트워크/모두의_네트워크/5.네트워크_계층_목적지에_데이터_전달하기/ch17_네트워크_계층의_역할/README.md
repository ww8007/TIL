# 네트워크 계층의 역할

- 네트워크 간의 연결에 대한 학습

## 1. 네트워크 간의 연결 구조

> 네트워크 계층 역할
> 네트워크 간의 연결

- OSI 모델
- ┣ 5. 응용 계층
- ┣ 4. 전송 계층
- ┣ 3. 네트워크 계층
- ┣ 2. 데이터 링크 계층
- ┗ 1. 물리 계층

- 데이터 링크 계층 : 이더넷 규칙을 기반으로
- ┣ 데이터의 전송을 담당함
- ┣ 이 규칙으로 → `같은 네트워크` 존재하는 컴퓨터 `데이터 전송 가능`
- ┗ But : 다른 네트워크, 인터넷 `전송 불가`

> 스위치를 이용하더라도 전송이 가능한건 아님

    수많은 네트워크가 연결된 환경
    ┣ 데이터 링크 계층 기능만으로는
    ┣ 다른 네트워크로 데이터를
    ┗ 전송하기 어려움

- 고로 네트워크 계층이 존재

- `네트워크 계층` :
- ┣ `네트워크 간의 통신을 가능`하게 함
- ┗ 데이터 전송을 위해 → `라우터`가 필요

> 라우터

    데이터의 목적지가 정해지면
    ┣ 해당 목적지로 가는
    ┣ `최적의 경로`를 알려줌
    ┣ But : 라우터도 목적지의 위치를 모르면
    ┗ 목적지까지의 `경로를 알려주지 못함`

- 여기서 필요한 것이 `IP 주소`
- ┣ `MAC 주소` : 통신만 가능
- ┗ 네트워크에는 데이터를 보낼 수 없음

> IP 주소

    어떤 네트워크의 어떤 컴퓨터인지
    ┣ `구분`이 가능한 주소
    ┣ `목적지 지정`이 가능함
    ┣ IP 주소를 이용한 `목적지 설정` 뿐 아닌
    ┗ `어떤 경로`로 `데이터 전송` 할지도 결정 해야 함

- `라우팅(routing)` :
- ┣ `어떤 경로`를 통해 데이터를 보낼지 결정
- ┣ `라우터`라는 장비가 필요
- ┣ 레이어 3스위치도 라우팅은 가능
- ┣ `거리와 상관 없이` `데이터 전송` 가능
- ┣ `라우팅 테이블(routing table)` 존재하여
- ┗ 경로 정보를 1. `등록`하고 2. `관리`

## IP란?

- 네트워크 게층에는 `IP(Internet Protocol)`
- ┣ 프로토콜이 존재함
- ┗ 자주 등장하는 TCP/IP 에서의 IP 의미

- 네트워크 계층 캡슐화 :
- ┣ `IP 헤더`를 붙임
- ┣ 1. 버전(version)
- ┣ 2. 헤더 길이(header length)
- ┣ 3. 서비스 유형(service type)
- ┣ 4. 전체 패킷 길이(total length)
- ┣ 5. ID(identification, 일련번호)
- ┣ 6. 조각 상태(flags)
- ┣ 7. 조각의 위치(fragment offset)
- ┣ 8. TTL
- ┣ 9. 프로토콜(protocol)
- ┣ 10. 헤더 체크섬(header checksum)
- ┣ 11. 출발지 IP주소(source IP address)
- ┗ 12. 목적지 IP 주소(destination IP address)

> 헤더 정보의 경우 다 기억 X
> 출발지 IP 주소, 목적지 IP 주소 기억

- `IP 프로토콜`을 사용하여 `캡슐화 진행`의 경우
- ┣ `IP 헤더가 추가`됨
- ┗ 이를 `IP 패킷`이라고 함

- 데이터 링크 계층에서는 → `프레임`
- ┗ IP 에서는 → `패킷`이라고 함

## 정리

1. 서로 다른 네트워크 간에 통신 :

   - ┗ `라우터`가 필요

2. `랜` 안에서는 → `MAC 주소`만 이용해서 통신 가능

   - ┗ 네트워크 간 통신 → `IP 주소가 필요`

3. 경로를 선택하고 목적지 IP 주소까지 어떻게

   - ┗ 데이터를 전달 결정 → `라우팅`

4. 라우터의 라우팅 테이블 :

   - ┗ `경로 정보가 등록`

5. 네트워크 계층의 대표적인 `프로토콜`

   - ┗ `IP`가 존재

6. 네트워크 계층
   - ┗ `캡슐화`에서 `IP 헤더`를 추가
