# ch32 랜 카드에서의 데이터 전달과 처리

- 웹 사이트에 방문 했을 때
- ┗ 이루어지는 전체적인 데이터 처리 과정 학습

## 목차

- [ch32 랜 카드에서의 데이터 전달과 처리](#ch32-%EB%9E%9C-%EC%B9%B4%EB%93%9C%EC%97%90%EC%84%9C%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%84%EB%8B%AC%EA%B3%BC-%EC%B2%98%EB%A6%AC)
  - [32.1 네트워크의 구성](#321-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%EC%9D%98-%EA%B5%AC%EC%84%B1)
  - [32.2 컴퓨터의 데이터가 전기 신호로 변환되는 과정](#322-%EC%BB%B4%ED%93%A8%ED%84%B0%EC%9D%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%EA%B0%80-%EC%A0%84%EA%B8%B0-%EC%8B%A0%ED%98%B8%EB%A1%9C-%EB%B3%80%ED%99%98%EB%90%98%EB%8A%94-%EA%B3%BC%EC%A0%95)
  - [32. 정리](#32-%EC%A0%95%EB%A6%AC)

## 32.1 네트워크의 구성

- OSI 모델의 각 계층 간에 데이터가 전달되고
- ┗ 처리되는 전체 과정을 알아보도록 함

- 웹 사이트 접속 시
- ┣ OSI 모델 상위 응용 계층
- ┗ ~ `하위 물리 계층`까지의 일들

```
1. 응용 계층 : 애플리케이션 등에서
- ┣ 사용하는 데이터를 송/수신 하는데 필요
- ┗ 세션 계층과 표현 계층을 포함한

2. 전송 계층 : 목적지에 데이터를 정확하게
- ┗ 전달하는데 필요함

3. 네트워크 계층 : 다른 네트워크에 있는
┗ 목적지에 데이터를 전송하는데 필요함

4. 데이터 링크 계층 : 랜에서 데이터를
┗ 송/수신 하는데 필요

5. 물리 계층 : 데이터를 전기 신호로
┗ 변환하는 데 필요함
```

- EX ) `컴퓨터`, `스위치`, `라우터`, `웹 서버`로
- ┣ 구성된 네트워크가 있다고 가정
- ┗ 이는 `몇 개의 네트워크로 나누어져 있을까?`

- 정답

- 컴퓨터 : 응용 계층(세션 계층과 표현 계층을 포함)
- ┣ 전송 계층
- ┣ 네트워크 계층
- ┣ 데이터 링크 계층
- ┗ 물리 계층

- 스위치 A
- ┣ 데이터 링크 계층
- ┗ 물리 계층

- 라우터 A
- ┣ 네트워크 계층
- ┣ 데이터 링크 계층
- ┗ 물리 계층

- 라우터 B
- ┣ 네트워크 계층
- ┣ 데이터 링크 계층
- ┗ 물리 계층

- 스위치 B
- ┣ 데이터 링크 계층
- ┗ 물리 계층

- 웹 서버
- ┣ 응용 계층(세션 게층과 표현 계층을 포함)
- ┣ 전송 계층
- ┣ 네트워크 계층
- ┣ 데이터 링크 계층
- ┗ 물리 계층

## 32.2 컴퓨터의 데이터가 전기 신호로 변환되는 과정

- OSI 모델의 전체적인 관점으로 데이터가 전달되고
- ┣ `처리되는 과정을 살펴보도록 함`
- ┣ 구체적 : 컴퓨터의 웹 브라우저에서
- ┣ URL을 입력할 때부터 웹 서버에
- ┣ 도착할 때까지 이루어지는 `OSI 모델`의
- ┗ `캡슐화`, `역캡슐화`

- 먼저 컴퓨터에서 OSI 모델의 캡슐화가 이루어짐
- ┣ `웹 사이트에 접속`해야 하므로
- ┗ `응용 계층에서 시작`

- 1. 웹 사이트에 URL 입력하고 `Enter` 키를 누르면
- ┣ 캡슐화가 시작됨
- ┣ 단 : 3-way 핸드셰이크는 이미 완료되어
- ┗ 연결이 확립되어 있다고 가정하고 설명

> 연결 확립을 위해서는 3-way 핸드 셰이크를 수행해야함

- 컴퓨터에서 웹 브라우저를 이용하여 웹 서버의
- ┣ `웹 사이트에 접속하기 위한 요청을 보낼 때`
- ┣ 사용하는 것 → `HTTP 프로토콜임`
- ┣ 응용 계층 : 웹 서버에 있는 html 데이터를 얻어야 함
- ┣ `GET /index.html HTTP/1.1~` 과 같은
- ┗ HTTP 메시지를 보내게 됨

- HTTP 메시지의 GET : `데이터 요청의 의미`
- ┣ 이 데이터가 전송 계층에 해당함
- ┣ 전송 계층에는 `TCP 헤더가 붙음`
- ┣ 이 TCP 헤더에는
- ┗ 1. `출발지 포트 번호`, 2. `목적지 포트 번호`가 필요함

- `출발지 포트 번호` : `잘 알려진 포트가 아닌`
- ┣ 1025번 이상의 포트 중에서 무작위로 선택됨
- ┗ (여기서는 3500포트 사용 가정)

- 목적지 포트 번호 : HTTP 이므로
- ┗ 80번 포트가 됨

> 웹 브라우저 3500번 포트 → 웹 서버 80번 포트 데이터 전송

- `TCP 헤더를 가진 데이터`를 부르는 이름
- ┗ `세그먼트`

- 그 다음 데이터가 `네트워크 계층에 전달`이됨
- ┣ 네트워크 계층에서는 `IP 헤더`가 붙음
- ┣ 네트워크 계층 : 전송 계층에서 전달받은
- ┣ `세그먼트(데이터)에 IP 헤더를 붙임`
- ┗ IP 헤더에 출발지 `컴퓨터와 목적지 서버의 위치 추가`

- IP 헤더에는
- ┣ 1. `출발지 IP 주소`
- ┣ 2. `목적지 IP 주소`가 붙음
- ┣ `IP 헤더가 붙은 데이터`를 : `IP 패킷`
- ┗ IP 헤더가 붙어서 → IP 패킷이 된다는 점을 유의

> 그 다음으로 데이터 링크 계층으로 전달이 됨

- `데이터 링크 계층` :
- ┣ `이더넷 헤더`가 붙게 됨
- ┣ 이더넷 헤더가 있는 `데이터` → `이더넷 프레임`
- ┣ 데이터 링크 계층에는 이더넷 헤더가 붙어
- ┣ `이더넷 프레임이 됨`
- ┣ 물리 계층에서 전기 신호로 변화되어
- ┗ `네트워크로 전송`이 되게 됨

> 데이터를 물리 계층에서 전기 신호로 변환 시 사용 장비

    랜 카드임

## 32. 정리

1. 웹에 접속할 때 : OSI 모델의 상위 계층부터 캡슐화 진행

2. 웹 서버에 요청을 보낼 때 : HTTP 사용

3. 웹 서버에 있는 html 파일을 요청하는 경우

- ┣ GET /index.html HTTP/1.1 같은
- ┗ HTTP 메시지를 보냄

3. 전송 계층 : `TCP 헤더가 추가`되며

- ┗ 이를 `세그먼트`라고 부름

4. 네트워크 계층 : `IP 헤더가 추가`되며

- ┗ 이를 `IP 패킷`이라고 부름

5. 데이터 링크 계층 :

- ┣ 1. `이더넷 헤더`와 2. `트레일러(FSC)`가 추가됨
- ┗ 이를 `이더넷 프레임`이라고 부름

6. 물리 계층 :

- ┗ 데이터가 전기 신호로 변환되어 전송됨
