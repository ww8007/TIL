# 15. 데이터가 케이블에서 충돌하지 않는 구조

- 케이블에 데이터가 아무리 많이 전송되어도 데이터가 충될하지 않는 구조

## 15.1 전이중 통신과 반이중 통신

- `데이터가 충돌하지 않는 구조`에 대해 학습
- ┣ 먼저 통신 방식 : `전이중 통신 방식`, `반이중 통신 방식`이 있음
- ┣ 1. 전이중 통신 방식 : `데이터의 송수신을 동시에 통신`하는 방식
- ┣ 2. 반이중 통신 방식 : 회선 하나로 송신과 수신을 `번갈아가면서`
- ┗ 통신하는 방식

> 전이중 : 동시에 전송해도 충돌이 발생하지 않음
> 반이중 : 데이터를 동시에 전송하면 충돌이 발생

- 컴퓨터를 `직접 랜 케이블로 연결`하게 되면
- ┣ `여덟 개` : `즉 선 네 쌍 사용`하기 때문에
- ┗ `전이중 통신 방식`이 됨

- 반면 `허브 내부`에는 `송수신이 나누어져 있지 않기 때문`에
- ┣ 동시에 `데이터를 보내게 되면 충돌`이 발생
- ┗ 허브 : 회선 하나로 송/수신 → `반이중 통신 방식`

- `스위치` : 충돌이 일어나지 않는 방식으로 되어 있음
- ┗ `전이중 통신 방식`으로 데이터를 주고받을 수 있음

> 허브 : 반이중 통신 방식 → 효율 down
> 스위치 : 전이중 통신 방식 → 효율 up

## 15.2 충돌 도메인이란?

- `허브` : `반이중 통신 방식`으로 `데이터를 전송하면 충돌`이 일어남
- ┣ 충돌이 발생할 때 그 영향이 미치는 범위 : `충돌 도메인(collision domain)`
- ┗ 허브는 연결되어 있는 `컴퓨터 전체가 하나의 충돌 도메인`이 됨

- 스위치 : 데이터를 동시에 송수신할 수 있는
- ┣ 전이중 통신 방식이기 때문에 →
- ┗ `충돌 도메인의 범위가 좁음`

> 충돌 도메인의 범위가 넓다 → 네트워크 지연이됨

## ARP

- `ARP(Address Resolution Protocol)` : `목적지 컴퓨터`의
- ┣ IP 주소를 이용하여 `MAC 주소를 찾기 위한 프로토콜`
- ┗ `이더넷 프레임을 전송`하려면 `목적지` 컴퓨터의 `MAC 주소`를 지정

- 출발지 컴퓨터가 목적지 주소를 모르면
- ┣ MAC 주소를 알아내기 `네트워크에 브로드캐스트`를 함
- ┗ 이것 : `APR 요청(request)`

- IP 주소를 가지고 있지 않은 컴퓨터는 응답하지 않지만
- ┣ 지정된 IP 주소를 가진 컴퓨터 : MAC 주소를 응답으로 보냄
- ┣ → 이를 APR 응답(reply)라고 함
- ┗ 출발지 컴퓨터 : MAC 주소를 얻고 이더넷 프레임을 만들 수 있음

- 출발지 컴퓨터에서는 1. `MAC 주소를 얻고`,
- ┣ 2. `IP 주소의 매핑 정보` → `메모리에 보관`
- ┣ 이 정보를 → ARP 테이블이라고 함
- ┗ 이후 데이터 통신 : 자신의 컴퓨터에 보관된 APR 테이블을 참고하여 전송

- 하지만 IP 주소가 변경되면 → `MAC 주소도 함께 변경`됨
- ┣ `제대로 통신 할 수 없다`는 의미
- ┣ `APR 테이블` : 보존 기간을 `APR 캐시로 지정`하고
- ┗ 일정 기간이 지나게 되면 `재요청`을 하게됨

- window 명령어 : arp -a
- ┗ 강제 삭제 : arp -d

## 정리

1. `전이중 통신 방식` : 데이터의 송신과 수신을 `동시`에 수행하는 통신 방식

2. `반이중 통신 방식` : `회선 한 개`로 통신과 수신을 `번갈아가면` 수행하는 통신 방식

3. `충돌 도메인` : 데이터 충돌이 발생하고, 그 영향이 미치는 `범위`
